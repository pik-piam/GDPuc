<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
convertGDP() converts GDP time series data from one unit to another, using GDP
deflators, market exchange rates (MERs) and purchasing power parity
conversion factors (PPPs)."><title>Convert GDP data — convertGDP • GDPuc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert GDP data — convertGDP"><meta property="og:description" content="
convertGDP() converts GDP time series data from one unit to another, using GDP
deflators, market exchange rates (MERs) and purchasing power parity
conversion factors (PPPs)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GDPuc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/handle_NAs.html">Handling missing conversion factors</a>
    <a class="dropdown-item" href="../articles/magpie.html">Converting magpie objects</a>
    <a class="dropdown-item" href="../articles/source.html">Choosing conversion factors</a>
    <a class="dropdown-item" href="../articles/verbose.html">Getting information on the conversion process</a>
    <a class="dropdown-item" href="../articles/warn.html">Silence warnings</a>
    <a class="dropdown-item" href="../articles/with_regions.html">Converting regional GDP data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pik-piam/GDPuc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert GDP data</h1>
      <small class="dont-index">Source: <a href="https://github.com/pik-piam/GDPuc/blob/HEAD/R/convertGDP.R" class="external-link"><code>R/convertGDP.R</code></a></small>
      <div class="d-none name"><code>convertGDP.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>convertGDP() converts GDP time series data from one unit to another, using GDP
deflators, market exchange rates (MERs) and purchasing power parity
conversion factors (PPPs).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">convertGDP</span><span class="op">(</span></span>
<span>  <span class="va">gdp</span>,</span>
<span>  <span class="va">unit_in</span>,</span>
<span>  <span class="va">unit_out</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"wb_wdi"</span>,</span>
<span>  use_USA_deflator_for_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  with_regions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  replace_NAs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"GDPuc.verbose"</span>, default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  return_cfs <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convertCPI</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">convertSingle</span><span class="op">(</span><span class="va">x</span>, <span class="va">iso3c</span>, year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>gdp</dt>
<dd><p>A tibble, data frame or magpie object, the latter of which
requires the <a href="https://github.com/pik-piam/magclass" class="external-link">magclass</a>
package to be installed. The data-frame needs to have at least 2 columns, in some cases 3:</p><ul><li><p>a character column with iso3c
(<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3" class="external-link">wikipedia</a>) country codes,</p></li>
<li><p>a numeric column with years (only required when converting from or to current currencies),</p></li>
<li><p>a numeric column named "value" with GDP values.</p></li>
</ul></dd>


<dt>unit_in</dt>
<dd><p>A string with the incoming GDP unit, one of:</p><ul><li><p>"current LCU"</p></li>
<li><p>"current Int$PPP"</p></li>
<li><p>"current US$MER"</p></li>
<li><p>"constant YYYY LCU"</p></li>
<li><p>"constant YYYY Int$PPP"</p></li>
<li><p>"constant YYYY US$MER"</p></li>
<li><p>"constant YYYY €"</p></li>
</ul><p>where YYYY should be replaced with a year e.g. "2010" or "2017".</p></dd>


<dt>unit_out</dt>
<dd><p>A string with the outgoing GDP unit, one of:</p><ul><li><p>"current LCU"</p></li>
<li><p>"current Int$PPP"</p></li>
<li><p>"current US$MER"</p></li>
<li><p>"constant YYYY LCU"</p></li>
<li><p>"constant YYYY Int$PPP"</p></li>
<li><p>"constant YYYY US$MER"</p></li>
<li><p>"constant YYYY €"</p></li>
</ul><p>where YYYY should be replaced with a year e.g. "2010" or "2017".</p></dd>


<dt>source</dt>
<dd><p>A string referring to a package internal data frame containing the conversion factors, or
a data-frame that exists in the calling environment.
Use <a href="https://pik-piam.github.io/GDPuc/reference/print_source_info.html">print_source_info()</a>
to learn about the available sources.</p></dd>


<dt>use_USA_deflator_for_all</dt>
<dd><p>TRUE or FALSE (default). If TRUE, then only the USA deflator is used to adjust for
inflation, regardless of the country codes provided. This is a very specific deviation from the correct conversion
process, which nevertheless is often used in the integrated assessment community. Use carefully!</p></dd>


<dt>with_regions</dt>
<dd><p>NULL or a data-frame. The data-frame should be "country to region
mapping": one column named "iso3c" with iso3c country codes, and one column named
"region" with region codes to which the countries belong. Any regions in the gdp
object will then be disaggregated according to the region mapping and weighed by the
GDP share of countries in that region in the year of the unit, converted on a country
level, and re-aggregated before being returned.</p></dd>


<dt>replace_NAs</dt>
<dd><p>NULL by default, meaning no NA replacement. Can be set to one of the following:</p><ul><li><p>0: resulting NAs are simply replaced with 0.</p></li>
<li><p>NA: resulting NAs are explicitly kept as NA.</p></li>
<li><p>"no_conversion": resulting NAs are simply replaced with the values from the gdp argument.</p></li>
<li><p>"linear": missing conversion factors in the source object are inter- and extrapolated linearly.
For the extrapolation, the closest 5 data points are used.</p></li>
<li><p>"regional_average": missing conversion factors in the source object are replaced with
the regional average of the region to which the country belongs. This requires a region-mapping to
be passed to the function, see the with_regions argument.</p></li>
<li><p>"with USA": missing conversion factors in the source object are replaced with
the conversion factors of the USA.</p></li>
</ul><p>Can also be a vector with "linear" as first element, e.g. c("linear", 0) or c("linear", "no_conversion"),
in which case, the operations are done in sequence.</p></dd>


<dt>verbose</dt>
<dd><p>TRUE or FALSE. A flag to turn verbosity on or off. Be default it is equal to the
GDPuc.verbose option, which is FALSE if not set to TRUE by the user.</p></dd>


<dt>return_cfs</dt>
<dd><p>TRUE or FALSE. Set to TRUE to additionally return a tibble with the conversion factors
used. In that case a list is returned with the converted GDP under "result", and the conversion factors
used under "cfs".</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code>convertGDP()</code></p></dd>


<dt>x</dt>
<dd><p>Number to convert</p></dd>


<dt>iso3c</dt>
<dd><p>Country code</p></dd>


<dt>year</dt>
<dd><p>NULL, or year of value. Only plays a role when converting from or to current currencies.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The gdp argument, with the values in the "value" column, converted to unit_out. If the argument
return_cfs is TRUE, then a list is returned with the converted GDP under "result", and the conversion
factors used under "cfs".</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When providing a custom source to the function, a certain format is required.
The source object must be a data frame or tibble with at least the following columns:</p><ul><li><p>a character column named "iso3c" with iso3c
(<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3" class="external-link">wikipedia</a>) country codes,</p></li>
<li><p>a numeric column named "year" with years,</p></li>
<li><p>a numeric column named "GDP deflator" with values of the GDP deflator divided
by 100 (so that in the base year the GDP deflator is equal to 1, not 100).
The base year of the deflator can be any year, and can be country-specific.</p></li>
<li><p>a numeric column named "MER (LCU per US$)" with MER values,</p></li>
<li><p>a numeric column named "PPP conversion factor, GDP (LCU per international $)"
wit PPP exchange rate values.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>convertCPI()</code>: Short cut for <code>convertGDP(..., source = "wb_wdi_cpi")</code></p></li>
<li><p><code>convertSingle()</code>: Convert a single value, while specifying iso3c code and year. Simpler than creating a
single row tibble.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The <a href="https://github.com/vincentarelbundock/countrycode" class="external-link">countrycode</a> package to convert country codes.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="va">my_tbble</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>iso3c <span class="op">=</span> <span class="st">"FRA"</span>,</span></span>
<span class="r-in"><span>                             year <span class="op">=</span> <span class="fl">2013</span>,</span></span>
<span class="r-in"><span>                             value <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">convertGDP</span><span class="op">(</span>gdp <span class="op">=</span> <span class="va">my_tbble</span>,</span></span>
<span class="r-in"><span>             unit_in <span class="op">=</span> <span class="st">"current LCU"</span>,</span></span>
<span class="r-in"><span>             unit_out <span class="op">=</span> <span class="st">"constant 2015 Int$PPP"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iso3c  year value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> FRA    <span style="text-decoration: underline;">2</span>013  126.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Convert using the CPI as deflator.</span></span></span>
<span class="r-in"><span>  <span class="fu">convertGDP</span><span class="op">(</span>gdp <span class="op">=</span> <span class="va">my_tbble</span>,</span></span>
<span class="r-in"><span>             unit_in <span class="op">=</span> <span class="st">"current LCU"</span>,</span></span>
<span class="r-in"><span>             unit_out <span class="op">=</span> <span class="st">"constant 2015 Int$PPP"</span>,</span></span>
<span class="r-in"><span>             source <span class="op">=</span> <span class="st">"wb_wdi_cpi"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iso3c  year value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> FRA    <span style="text-decoration: underline;">2</span>013  124.</span>
<span class="r-in"><span>  <span class="co"># Or using the shortcut `convertCPI()`</span></span></span>
<span class="r-in"><span>  <span class="fu">convertCPI</span><span class="op">(</span>gdp <span class="op">=</span> <span class="va">my_tbble</span>,</span></span>
<span class="r-in"><span>             unit_in <span class="op">=</span> <span class="st">"current LCU"</span>,</span></span>
<span class="r-in"><span>             unit_out <span class="op">=</span> <span class="st">"constant 2015 Int$PPP"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iso3c  year value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> FRA    <span style="text-decoration: underline;">2</span>013  124.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Convert a single value quickly</span></span></span>
<span class="r-in"><span>  <span class="fu">convertSingle</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                iso3c <span class="op">=</span> <span class="st">"FRA"</span>,</span></span>
<span class="r-in"><span>                year <span class="op">=</span> <span class="fl">2013</span>,</span></span>
<span class="r-in"><span>                unit_in <span class="op">=</span> <span class="st">"current LCU"</span>,</span></span>
<span class="r-in"><span>                unit_out <span class="op">=</span> <span class="st">"constant 2015 Int$PPP"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 125.7852</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Koch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

