<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Converting regional GDP data • GDPuc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Converting regional GDP data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GDPuc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/handle_NAs.html">Handling missing conversion factors</a></li>
    <li><a class="dropdown-item" href="../articles/magpie.html">Converting magpie objects</a></li>
    <li><a class="dropdown-item" href="../articles/source.html">Choosing conversion factors</a></li>
    <li><a class="dropdown-item" href="../articles/verbose.html">Getting information on the conversion process</a></li>
    <li><a class="dropdown-item" href="../articles/warn.html">Silence warnings</a></li>
    <li><a class="dropdown-item" href="../articles/with_regions.html">Converting regional GDP data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pik-piam/GDPuc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Converting regional GDP data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pik-piam/GDPuc/blob/main/vignettes/with_regions.Rmd" class="external-link"><code>vignettes/with_regions.Rmd</code></a></small>
      <div class="d-none name"><code>with_regions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="the-with_regions-argument">The <code>with_regions</code> argument<a class="anchor" aria-label="anchor" href="#the-with_regions-argument"></a>
</h2>
<p>Use the <code>with_regions</code> argument in <code>convertGDP</code>
to convert aggregated GDP data, e.g. regional-level data.</p>
<p>The default value is <code>NULL</code>, but if passed a data-frame
with a country-to-region mapping, then custom regional codons will be
recognized. The data-frame should have two columns, one named “iso3c”
with iso3c country codes, and one named “region” with the corresponding
region codes. The conversion of regional values is then undertaken by
disaggregating the regions to a country level (using the mapping and
weighed by the GDP (in $PPP) shares of countries within that region in
the base year of <code>unit_in</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pik-piam/GDPuc" class="external-link">GDPuc</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: madrat</span></span>
<span><span class="co">#&gt; Loading required package: magclass</span></span>
<span></span>
<span><span class="va">my_gdp</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  iso3c <span class="op">=</span> <span class="st">"EUR"</span>, </span>
<span>  year <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2014</span>, </span>
<span>  value <span class="op">=</span> <span class="fl">100</span><span class="op">:</span><span class="fl">104</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_mapping_data_frame</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  iso3c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEU"</span>, <span class="st">"FRA"</span>, <span class="st">"ESP"</span>, <span class="st">"ITA"</span><span class="op">)</span>, </span>
<span>  region <span class="op">=</span> <span class="st">"EUR"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/convertGDP.html">convertGDP</a></span><span class="op">(</span></span>
<span>  gdp <span class="op">=</span> <span class="va">my_gdp</span>, </span>
<span>  unit_in <span class="op">=</span> <span class="st">"constant 2005 Int$PPP"</span>, </span>
<span>  unit_out <span class="op">=</span> <span class="st">"constant 2017 Int$PPP"</span>,</span>
<span>  with_regions <span class="op">=</span> <span class="va">my_mapping_data_frame</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Converting GDP with conversion factors from <span style="color: #0000BB;">wb_wdi</span>:</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">constant 2005 Int$PPP</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2005 LCU</span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">2005 PPP conversion factor</span>s in (LCU per international $) used:</span></span>
<span><span class="co">#&gt; DEU: 0.872721</span></span>
<span><span class="co">#&gt; ESP: 0.769508</span></span>
<span><span class="co">#&gt; FRA: 0.916458</span></span>
<span><span class="co">#&gt; ITA: 0.855139</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">constant 2005 LCU</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2017 LCU</span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">2017 value of base 2005 GDP deflator</span>s in (constant 2017 LCU per constant 2005</span></span>
<span><span class="co">#&gt; LCU) used:</span></span>
<span><span class="co">#&gt; DEU: 1.17967</span></span>
<span><span class="co">#&gt; ESP: 1.1273</span></span>
<span><span class="co">#&gt; FRA: 1.14739</span></span>
<span><span class="co">#&gt; ITA: 1.18511</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">constant 2017 LCU</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2017 Int$PPP</span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">2017 PPP conversion factor</span>s in (LCU per international $) used:</span></span>
<span><span class="co">#&gt; DEU: 0.744783</span></span>
<span><span class="co">#&gt; ESP: 0.630839</span></span>
<span><span class="co">#&gt; FRA: 0.770109</span></span>
<span><span class="co">#&gt; ITA: 0.689895</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span></span>
<span><span class="co">#&gt;   iso3c  year value</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> EUR    <span style="text-decoration: underline;">2</span>010  140.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> EUR    <span style="text-decoration: underline;">2</span>011  141.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EUR    <span style="text-decoration: underline;">2</span>012  142.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EUR    <span style="text-decoration: underline;">2</span>013  144.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> EUR    <span style="text-decoration: underline;">2</span>014  145.</span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Koch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
