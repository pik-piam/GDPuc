<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GDPuc">
<title>Converting regional GDP data • GDPuc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.1/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Converting regional GDP data">
<meta property="og:description" content="GDPuc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GDPuc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/handle_NAs.html">Handling missing conversion factors</a>
    <a class="dropdown-item" href="../articles/magpie.html">Converting magpie objects</a>
    <a class="dropdown-item" href="../articles/source.html">Choosing conversion factors</a>
    <a class="dropdown-item" href="../articles/verbose.html">Getting information on the conversion process</a>
    <a class="dropdown-item" href="../articles/with_regions.html">Converting regional GDP data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/johanneskoch94/GDPuc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="with_regions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Converting regional GDP data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/johanneskoch94/GDPuc/blob/HEAD/vignettes/with_regions.Rmd" class="external-link"><code>vignettes/with_regions.Rmd</code></a></small>
      <div class="d-none name"><code>with_regions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="the-with_regions-argument">The <code>with_regions</code> argument<a class="anchor" aria-label="anchor" href="#the-with_regions-argument"></a>
</h2>
<p>Use the <code>with_regions</code> argument in <code>convertGDP</code> to convert aggregated GDP data, e.g. regional-level data.</p>
<p>The default value is <code>NULL</code>, but if passed a data-frame with a country-to-region mapping, then custom regional codons will be recognized. The data-frame should have two columns, one named “iso3c” with iso3c country codes, and one named “region” with the corresponding region codes. The conversion of regional values is then undertaken by disaggregating the regions to a country level (using the mapping and weighed by the GDP (in $PPP) shares of countries within that region in the base year of <code>unit_in</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/johanneskoch94/GDPuc#readme" class="external-link">GDPuc</a></span><span class="op">)</span>

<span class="va">my_gdp</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  iso3c <span class="op">=</span> <span class="st">"EUR"</span>, 
  year <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2014</span>, 
  value <span class="op">=</span> <span class="fl">100</span><span class="op">:</span><span class="fl">104</span>
<span class="op">)</span>

<span class="va">my_mapping_data_frame</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  iso3c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEU"</span>, <span class="st">"FRA"</span>, <span class="st">"ESP"</span>, <span class="st">"ITA"</span><span class="op">)</span>, 
  region <span class="op">=</span> <span class="st">"EUR"</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/convertGDP.html">convertGDP</a></span><span class="op">(</span>
  gdp <span class="op">=</span> <span class="va">my_gdp</span>, 
  unit_in <span class="op">=</span> <span class="st">"constant 2005 Int$PPP"</span>, 
  unit_out <span class="op">=</span> <span class="st">"constant 2017 Int$PPP"</span>,
  with_regions <span class="op">=</span> <span class="va">my_mapping_data_frame</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Converting GDP with conversion factors from <span style="color: #0000BB;">wb_wdi</span>:</span>
<span class="co">#&gt; <span style="font-weight: bold;">constant 2005 Int$PPP</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2005 LCU</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">2005 PPP conversion factor</span>s in (LCU per international $) used:</span>
<span class="co">#&gt; DEU: 0.872721</span>
<span class="co">#&gt; ESP: 0.769508</span>
<span class="co">#&gt; FRA: 0.916458</span>
<span class="co">#&gt; ITA: 0.855139</span>
<span class="co">#&gt; <span style="font-weight: bold;">constant 2005 LCU</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2017 LCU</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">2017 value of base 2005 GDP deflator</span>s in (constant 2017 LCU per constant 2005</span>
<span class="co">#&gt; LCU) used:</span>
<span class="co">#&gt; DEU: 1.17792964301252</span>
<span class="co">#&gt; ESP: 1.12733224080888</span>
<span class="co">#&gt; FRA: 1.1473934842041</span>
<span class="co">#&gt; ITA: 1.18510653093868</span>
<span class="co">#&gt; <span style="font-weight: bold;">constant 2017 LCU</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2017 Int$PPP</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">2017 PPP conversion factor</span>s in (LCU per international $) used:</span>
<span class="co">#&gt; DEU: 0.744783</span>
<span class="co">#&gt; ESP: 0.630839</span>
<span class="co">#&gt; FRA: 0.770109</span>
<span class="co">#&gt; ITA: 0.689895</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span>
<span class="co">#&gt;   iso3c  year value</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> EUR    <span style="text-decoration: underline;">2</span>010  140.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> EUR    <span style="text-decoration: underline;">2</span>011  141.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EUR    <span style="text-decoration: underline;">2</span>012  142.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EUR    <span style="text-decoration: underline;">2</span>013  144.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> EUR    <span style="text-decoration: underline;">2</span>014  145.</span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Johannes Koch.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
