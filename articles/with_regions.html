<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Converting regional GDP data • GDPuc</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Converting regional GDP data">
<meta property="og:description" content="GDPuc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GDPuc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/handle_NAs.html">Handling missing conversion factors</a>
    </li>
    <li>
      <a href="../articles/magpie.html">Converting magpie objects</a>
    </li>
    <li>
      <a href="../articles/source.html">Choosing conversion factors</a>
    </li>
    <li>
      <a href="../articles/verbose.html">Getting information on the conversion process</a>
    </li>
    <li>
      <a href="../articles/with_regions.html">Converting regional GDP data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/johanneskoch94/GDPuc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="with_regions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Converting regional GDP data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/johanneskoch94/GDPuc/blob/HEAD/vignettes/with_regions.Rmd" class="external-link"><code>vignettes/with_regions.Rmd</code></a></small>
      <div class="hidden name"><code>with_regions.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="the-with_regions-argument">The <code>with_regions</code> argument<a class="anchor" aria-label="anchor" href="#the-with_regions-argument"></a>
</h2>
<p>Use the <code>with_regions</code> argument in <code>convertGDP</code> to convert aggregated GDP data, e.g. regional-level data.</p>
<p>The default value is <code>NULL</code>, but if passed a data-frame with a country-to-region mapping, then custom regional codons will be recognized. The data-frame should have two columns, one named “iso3c” with iso3c country codes, and one named “region” with the corresponding region codes. The conversion of regional values is then undertaken by disaggregating the regions to a country level (using the mapping and weighed by the GDP (in $PPP) shares of countries within that region in the base year of <code>unit_in</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/johanneskoch94/GDPuc#readme" class="external-link">GDPuc</a></span><span class="op">)</span>

<span class="va">my_gdp</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  iso3c <span class="op">=</span> <span class="st">"EUR"</span>, 
  year <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2014</span>, 
  value <span class="op">=</span> <span class="fl">100</span><span class="op">:</span><span class="fl">104</span>
<span class="op">)</span>

<span class="va">my_mapping_data_frame</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  iso3c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEU"</span>, <span class="st">"FRA"</span>, <span class="st">"ESP"</span>, <span class="st">"ITA"</span><span class="op">)</span>, 
  region <span class="op">=</span> <span class="st">"EUR"</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/convertGDP.html">convertGDP</a></span><span class="op">(</span>
  gdp <span class="op">=</span> <span class="va">my_gdp</span>, 
  unit_in <span class="op">=</span> <span class="st">"constant 2005 Int$PPP"</span>, 
  unit_out <span class="op">=</span> <span class="st">"constant 2017 Int$PPP"</span>,
  with_regions <span class="op">=</span> <span class="va">my_mapping_data_frame</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Converting GDP with conversion factors from <span style="color: #0000BB;">wb_wdi</span>:</span>
<span class="co">#&gt; <span style="font-weight: bold;">constant 2005 Int$PPP</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2005 LCU</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">2005 PPP conversion factor</span>s in (LCU per international $) used:</span>
<span class="co">#&gt; DEU: 0.872721</span>
<span class="co">#&gt; ESP: 0.769508</span>
<span class="co">#&gt; FRA: 0.916458</span>
<span class="co">#&gt; ITA: 0.855139</span>
<span class="co">#&gt; <span style="font-weight: bold;">constant 2005 LCU</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2017 LCU</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">2017 value of base 2005 GDP deflator</span>s in (constant 2017 LCU per constant 2005</span>
<span class="co">#&gt; LCU) used:</span>
<span class="co">#&gt; DEU: 1.17792964301252</span>
<span class="co">#&gt; ESP: 1.12733224080888</span>
<span class="co">#&gt; FRA: 1.1473934842041</span>
<span class="co">#&gt; ITA: 1.18510653093868</span>
<span class="co">#&gt; <span style="font-weight: bold;">constant 2017 LCU</span> <span style="color: #00BB00;">→</span> <span style="font-weight: bold;">constant 2017 Int$PPP</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">2017 PPP conversion factor</span>s in (LCU per international $) used:</span>
<span class="co">#&gt; DEU: 0.744783</span>
<span class="co">#&gt; ESP: 0.630839</span>
<span class="co">#&gt; FRA: 0.770109</span>
<span class="co">#&gt; ITA: 0.689895</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span>
<span class="co">#&gt;   iso3c  year value</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> EUR    <span style="text-decoration: underline;">2</span>010  140.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> EUR    <span style="text-decoration: underline;">2</span>011  141.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EUR    <span style="text-decoration: underline;">2</span>012  142.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EUR    <span style="text-decoration: underline;">2</span>013  144.</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> EUR    <span style="text-decoration: underline;">2</span>014  145.</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Johannes Koch.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
